@tailwind base;
@tailwind components;
@tailwind utilities;

/* Navigation Container */
@layer components {
  .tw-nav-container {
    @apply flex items-center justify-between gap-4 
           bg-white/95 backdrop-blur-md 
           border border-gray-200 rounded-xl 
           shadow-lg p-4 z-10;
  }

  /* Buttons */
  .tw-btn {
    @apply flex items-center gap-2 px-4 py-2 
           rounded-lg font-medium transition-all duration-300
           disabled:opacity-50 disabled:cursor-not-allowed;
  }

  .tw-btn-secondary {
    @apply bg-gray-100 text-gray-700 border border-gray-300
           hover:bg-gray-200 hover:border-gray-400
           focus:outline-none focus:ring-2 focus:ring-blue-500/20;
  }

  .tw-btn-primary {
    @apply bg-blue-600 text-white border border-blue-600
           hover:bg-blue-700 hover:border-blue-700
           focus:outline-none focus:ring-2 focus:ring-blue-500/50;
  }

  .tw-btn-gold {
    @apply bg-gradient-to-r from-yellow-500 to-yellow-600 text-white
           hover:from-yellow-600 hover:to-yellow-700
           hover:-translate-y-0.5 hover:shadow-xl;
  }

  /* Progress Indicator */
  .tw-progress {
    @apply flex-1 flex justify-center;
  }

  .tw-dots-container {
    @apply flex items-center gap-2 flex-wrap justify-center max-w-sm;
  }

  .tw-dot {
    @apply w-2 h-2 rounded-full bg-gray-300 transition-all duration-300;
  }

  .tw-dot-completed {
    @apply bg-blue-500 scale-110;
  }

  .tw-dot-current {
    @apply bg-yellow-500 scale-125 shadow-lg;
    animation: pulse 2s ease-in-out infinite;
  }

  /* Responsive Design */
  @media (max-width: 768px) {
    .tw-nav-container {
      @apply fixed bottom-0 left-0 right-0 
             rounded-t-xl rounded-b-none
             border-t border-x-0 border-b-0
             shadow-2xl pb-8;
      padding-bottom: calc(1rem + env(safe-area-inset-bottom));
    }

    .tw-btn {
      @apply min-h-14 text-base font-semibold rounded-xl;
    }

    .tw-btn:first-child {
      @apply max-w-32;
    }

    .tw-btn:last-child {
      @apply flex-1;
    }

    .tw-dots-container {
      @apply gap-3 min-w-32;
    }

    .tw-dot {
      @apply w-3 h-3;
    }
  }

  /* Tablet */
  @media (min-width: 768px) and (max-width: 1023px) {
    .tw-nav-container {
      @apply flex-col gap-3 w-full;
    }

    .tw-btn {
      @apply w-full justify-center;
    }

    .tw-progress {
      @apply order-first mb-2;
    }

    .tw-dots-container {
      @apply max-w-md;
    }
  }

  /* DiagnosisContainer Layout */
  .tw-diagnosis-layout {
    @apply flex flex-col min-h-screen w-full
           bg-gradient-to-br from-slate-50 to-gray-100
           px-4 py-8 overflow-x-hidden;
  }

  .tw-content-area {
    @apply max-w-4xl mx-auto w-full
           bg-white rounded-xl shadow-lg
           px-8 py-10 relative flex-1;
    min-height: 500px;
  }

  .tw-sticky-nav {
    @apply sticky bottom-6 mt-8 mb-4 z-50;
  }

  /* Mobile Optimizations */
  @media (max-width: 768px) {
    .tw-diagnosis-layout {
      @apply px-3 py-6 pb-28;
    }

    .tw-content-area {
      @apply px-6 py-8 rounded-xl shadow-xl;
    }

    .tw-sticky-nav {
      @apply mt-8 mb-0;
    }
  }

  /* QuestionDisplay Layout */
  .tw-question-layout {
    @apply flex flex-col gap-8 mb-6 relative;
  }

  .tw-header {
    @apply text-center mb-8;
  }

  .tw-meta {
    @apply flex items-center justify-center gap-6 mb-6;
  }

  .tw-number {
    @apply text-sm text-gray-600 bg-gray-100 
           px-3 py-1 rounded-full font-mono;
  }

  .tw-category {
    @apply text-sm text-blue-600 bg-blue-50 
           px-3 py-1 rounded-full font-medium;
  }

  .tw-title {
    @apply text-3xl font-bold text-gray-900 
           mb-4 leading-tight;
  }

  .tw-subtitle {
    @apply text-gray-600 text-lg mb-0 max-w-2xl mx-auto;
  }

  .tw-card {
    @apply max-w-4xl mx-auto w-full;
  }

  .tw-options {
    @apply flex flex-col gap-8;
  }

  .tw-option {
    @apply bg-gradient-to-r from-white to-gray-50
           border border-gray-200 rounded-xl
           p-8 transition-all duration-300
           hover:border-blue-300 hover:shadow-md
           hover:from-blue-50 hover:to-white;
  }

  .tw-option-header {
    @apply flex items-start gap-6 mb-6;
  }

  .tw-label {
    @apply flex items-center justify-center
           w-12 h-12 bg-gradient-to-br from-blue-600 to-blue-700 
           text-white rounded-full font-mono font-bold text-lg
           flex-shrink-0 shadow-md;
  }

  .tw-text {
    @apply flex-1 text-gray-900 font-medium text-lg
           leading-relaxed break-words;
  }

  .tw-rating {
    @apply flex flex-col gap-4;
  }

  .tw-labels {
    @apply flex justify-between items-center
           text-base text-gray-600 mb-4;
  }

  .tw-buttons {
    @apply flex justify-between gap-3 max-w-lg mx-auto;
  }

  .tw-rating-btn {
    @apply flex items-center justify-center
           flex-1 aspect-square max-w-16
           border-2 border-gray-300 rounded-full
           bg-white text-gray-700 cursor-pointer
           transition-all duration-300 font-bold text-lg
           hover:border-blue-400 hover:bg-blue-50
           hover:scale-110 focus:outline-none focus:ring-4
           focus:ring-blue-500/20 disabled:opacity-50
           shadow-sm hover:shadow-md;
  }

  .tw-selected {
    @apply border-blue-600 bg-blue-600 text-white
           scale-110 shadow-md;
  }

  .tw-rating-1.tw-selected {
    @apply border-red-500 bg-red-500;
  }

  .tw-rating-2.tw-selected {
    @apply border-orange-500 bg-orange-500;
  }

  .tw-rating-3.tw-selected {
    @apply border-gray-500 bg-gray-500;
  }

  .tw-rating-4.tw-selected {
    @apply border-blue-500 bg-blue-500;
  }

  .tw-rating-5.tw-selected {
    @apply border-green-500 bg-green-500;
  }

  /* Mobile Optimizations */
  @media (max-width: 768px) {
    .tw-meta {
      @apply flex-col gap-3;
    }

    .tw-title {
      @apply text-2xl;
    }

    .tw-subtitle {
      @apply text-base;
    }

    .tw-option {
      @apply p-6;
    }

    .tw-option-header {
      @apply gap-4;
    }

    .tw-label {
      @apply w-10 h-10 text-base;
    }

    .tw-text {
      @apply text-base;
    }

    .tw-buttons {
      @apply gap-2 max-w-md;
    }

    .tw-rating-btn {
      @apply max-w-12 text-base;
    }

    .tw-labels {
      @apply px-2;
    }

    .tw-label-left,
    .tw-label-right {
      @apply text-xs p-1 bg-blue-50 
             border border-blue-100 rounded
             max-w-20 text-center break-words;
    }
  }
}