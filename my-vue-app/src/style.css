@tailwind base;
@tailwind components;
@tailwind utilities;

/* Global overflow prevention */
html, body {
  width: 100vw;
  max-width: 100vw;
  overflow-x: hidden;
  box-sizing: border-box;
}

*, *::before, *::after {
  box-sizing: border-box;
}

/* Navigation Container */
@layer components {
  .tw-nav-container {
    @apply flex items-center justify-between
           border rounded
           shadow-lg p-4 z-10;
    background-color: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(12px);
    gap: 1rem;
  }

  /* Buttons */
  .tw-btn {
    @apply flex items-center px-4 py-2
           rounded-lg font-bold transition-all duration-300
           disabled:opacity-50 disabled:cursor-not-allowed;
    gap: 0.5rem;
  }

  .tw-btn-secondary {
    @apply bg-gray-100 text-gray-700 border border-gray-300
           hover:bg-gray-200 hover:border-gray-400
           focus:outline-none;
  }

  .tw-btn-primary {
    @apply bg-blue-600 text-white border border-blue-600
           hover:bg-blue-700 hover:border-blue-700
           focus:outline-none;
  }

  .tw-btn-gold {
    @apply bg-gradient-to-r from-yellow-500 to-yellow-600 text-white
           hover:from-yellow-600 hover:to-yellow-700
           hover:-translate-y-0.5 hover:shadow-xl;
  }

  /* Progress Indicator */
  .tw-progress {
    @apply flex-1 flex justify-center;
  }

  .tw-dots-container {
    @apply flex items-center flex-wrap justify-center max-w-sm;
    gap: 0.5rem;
  }

  .tw-dot {
    @apply w-2 h-2 rounded-full bg-gray-300 transition-all duration-300;
  }

  .tw-dot-completed {
    @apply bg-blue-500 scale-110;
  }

  .tw-dot-current {
    @apply bg-yellow-500 scale-125 shadow-lg;
    animation: pulse 2s ease-in-out infinite;
  }

  /* Responsive Design */
  @media (max-width: 768px) {
    .tw-nav-container {
      @apply fixed bottom-0 left-0 right-0 
             rounded-t-xl rounded-b-none
             border-t border-x-0 border-b-0
             shadow-2xl pb-8;
      padding-bottom: calc(1rem + env(safe-area-inset-bottom));
    }

    .tw-btn {
      @apply min-h-14 text-base font-semibold rounded-xl;
    }

    .tw-btn:first-child {
      @apply max-w-32;
    }

    .tw-btn:last-child {
      @apply flex-1;
    }

    .tw-dots-container {
      @apply min-w-32;
      gap: 0.75rem;
    }

    .tw-dot {
      @apply w-3 h-3;
    }
  }

  /* Tablet */
  @media (min-width: 768px) and (max-width: 1023px) {
    .tw-nav-container {
      @apply flex-col gap-3 w-full;
    }

    .tw-btn {
      @apply w-full justify-center;
    }

    .tw-progress {
      @apply order-first mb-2;
    }

    .tw-dots-container {
      @apply max-w-md;
    }
  }



  .tw-sticky-nav {
    @apply sticky bottom-6 mt-8 mb-4 z-50;
  }

  /* ResultDisplay & ProfessionCard Layout */
  .tw-result-container {
    @apply w-full max-w-none overflow-x-hidden flex flex-col;
    box-sizing: border-box;
    gap: 1.5rem;
  }

  .tw-profession-card {
  @apply w-full rounded-xl border shadow-md
           mb-6;
    padding: 1rem 1.5rem;
    background-color: white;
    max-width: 100vw;
    overflow-x: hidden;
    box-sizing: border-box;
    margin-left: 0;
    margin-right: 0;
  }

  .tw-card-header {
    @apply flex flex-row items-center justify-between
           mb-6;
    gap: 1rem;
  }

  .tw-rank-section {
    @apply flex items-center;
    gap: 1rem;
  }

  .tw-rank-badge {
    @apply flex items-center justify-start
           bg-blue-600 text-white rounded-full
           text-sm font-bold font-mono flex-shrink-0;
    width: 30px;
    height: 30px;
    padding-left: 8px;
  }

  .tw-total-score {
    @apply flex-shrink-0;
  }

  .tw-profession-name {
    @apply text-2xl font-bold text-gray-900;
  }

  .tw-category-analysis {
    @apply mb-6 w-full overflow-x-hidden;
  }

  .tw-analysis-title {
    @apply flex items-center text-lg font-semibold
           text-gray-900 mb-4;
    gap: 0.5rem;
  }

  .tw-category-grid {
    @apply space-y-6 w-full;
  }

  .tw-category-item {
    @apply bg-gray-50 rounded-lg p-4 w-full min-w-0;
  }

  .tw-category-header {
    @apply flex justify-between items-center mb-2
           flex-wrap gap-2;
  }

  .tw-category-name {
    @apply text-sm font-medium text-gray-700 min-w-0;
  }

  .tw-category-score {
    @apply text-sm font-semibold text-black
           font-mono flex-shrink-0;
  }

  .tw-category-bar {
    @apply h-2 bg-gray-200 rounded-full overflow-hidden;
  }

  .tw-category-fill {
    @apply h-full bg-gradient-to-r from-blue-500 to-yellow-500
           rounded-full transition-all duration-300;
  }

  .tw-profession-details {
    @apply mb-6 space-y-4 w-full min-w-0;
  }

  .tw-detail-section {
    @apply space-y-2;
  }

  .tw-detail-title {
    @apply flex items-center gap-2 text-base font-bold
           text-gray-900;
  }

  .tw-detail-content {
    @apply text-gray-700 leading-relaxed break-words;
  }

  .tw-income-value {
    @apply text-lg font-semibold text-yellow-600 font-mono;
  }

  .tw-detail-link {
    @apply inline-flex items-center gap-2 text-blue-600
           font-medium px-4 py-2 border border-blue-600
           rounded-lg hover:bg-blue-600 hover:text-white
           transition-all duration-200;
  }

  /* Mobile Optimizations */
  @media (max-width: 768px) {

    .tw-result-container {
      padding: 0 var(--space-md);
    }

    .tw-sticky-nav {
      @apply mt-8 mb-0;
    }

    .tw-profession-card {
      padding: 0.75rem 1rem;
      margin: 0 0 16px 0;
      max-width: 100%;
      width: 100%;
      box-sizing: border-box;
      overflow-x: hidden;
    }

    .tw-card-header {
      @apply flex-row gap-3;
    }

    .tw-profession-name {
      @apply text-lg leading-tight;
      word-wrap: break-word;
    }

    .tw-category-analysis {
      @apply w-full;
      overflow-x: hidden;
    }

    .tw-category-grid {
      @apply w-full;
    }

    .tw-category-item {
      @apply w-full p-3;
      min-width: 0;
      box-sizing: border-box;
    }

    .tw-category-header {
      @apply flex justify-between items-center gap-2;
      flex-wrap: wrap;
    }

    .tw-category-name {
      @apply text-xs font-medium;
      min-width: 0;
      flex: 1;
      word-wrap: break-word;
    }

    .tw-category-score {
      @apply text-xs font-bold text-black;
      flex-shrink: 0;
    }

    .tw-profession-details {
      @apply w-full;
      overflow-x: hidden;
    }

    .tw-detail-content {
      @apply text-sm leading-relaxed;
      word-wrap: break-word;
      overflow-wrap: break-word;
    }
  }

  /* QuestionDisplay Layout */
  .tw-question-layout {
    @apply flex flex-col gap-8 mb-6 relative;
  }

  .tw-header {
    @apply text-center mb-8;
  }

  .tw-meta {
    @apply flex items-center justify-center gap-6 mb-6;
  }

  .tw-number {
    @apply text-sm text-gray-600 bg-gray-100 
           px-3 py-1 rounded-full font-mono;
  }

  .tw-category {
    @apply text-sm text-blue-600 bg-blue-50 
           px-3 py-1 rounded-full font-medium;
  }

  .tw-title {
    @apply text-3xl font-bold text-gray-900 
           mb-4 leading-tight;
  }

  .tw-subtitle {
    @apply text-gray-600 text-lg mb-0 max-w-2xl mx-auto;
  }

  .tw-card {
    @apply max-w-4xl mx-auto w-full;
  }

  .tw-options {
    @apply flex flex-col gap-8;
  }

  .tw-option {
    @apply bg-gradient-to-r from-white to-gray-50
           border rounded-xl
           p-8 transition-all duration-300
           hover:border-blue-300 hover:shadow-md
           hover:from-blue-50 hover:to-white;
  }

  .tw-option-header {
    @apply flex items-start gap-6 mb-6;
  }

  .tw-label {
    @apply flex items-center justify-center
           w-12 h-12 bg-gradient-to-br from-blue-600 to-blue-700 
           text-white rounded-full font-mono font-bold text-lg
           flex-shrink-0 shadow-md;
  }

  .tw-text {
    @apply flex-1 text-gray-900 font-medium text-lg
           leading-relaxed break-words;
  }

  .tw-rating {
    @apply flex flex-col;
    gap: 1rem;
  }

  .tw-labels {
    @apply flex justify-between items-center
           text-base text-gray-600 mb-4;
  }

  .tw-buttons {
    @apply flex justify-between max-w-lg mx-auto;
    gap: 0.75rem;
  }

  .tw-rating-btn {
    @apply flex items-center justify-center
           flex-1 aspect-square max-w-16
           border-2 border-gray-300 rounded-full
           text-gray-700 cursor-pointer
           font-bold text-lg
           hover:border-blue-400 hover:bg-blue-50
           hover:scale-110 focus:outline-none
           disabled:opacity-50
           shadow-sm hover:shadow-md;
    background-color: white;
    transition: all 0.3s ease;
  }

  .tw-selected {
    @apply border-blue-600 text-white
           scale-110 shadow-md;
    background-color: #2563eb;
  }

  .tw-rating-1.tw-selected {
    @apply border-red-500;
    background-color: #ef4444;
  }

  .tw-rating-2.tw-selected {
    @apply border-orange-500;
    background-color: #f97316;
  }

  .tw-rating-3.tw-selected {
    @apply border-gray-500;
    background-color: #6b7280;
  }

  .tw-rating-4.tw-selected {
    @apply border-blue-500;
    background-color: #3b82f6;
  }

  .tw-rating-5.tw-selected {
    @apply border-green-500;
    background-color: #10b981;
  }

  /* Mobile Optimizations */
  @media (max-width: 768px) {
    .tw-meta {
      @apply flex-col;
      gap: 0.75rem;
    }

    .tw-title {
      @apply text-2xl;
    }

    .tw-subtitle {
      @apply text-base;
    }

    .tw-option {
      @apply p-6;
    }

    .tw-option-header {
      gap: 1rem;
    }

    .tw-label {
      @apply w-10 h-10 text-base;
    }

    .tw-text {
      @apply text-base;
    }

    .tw-buttons {
      @apply max-w-md;
      gap: 0.5rem;
    }

    .tw-rating-btn {
      @apply max-w-12 text-base;
    }

    .tw-labels {
      @apply px-2;
    }

    .tw-label-left,
    .tw-label-right {
      @apply text-xs p-1 bg-blue-50 
             border border-blue-100 rounded
             max-w-20 text-center break-words;
    }
  }
}