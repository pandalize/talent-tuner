# アーキテクチャ・主要コンポーネント

## プロジェクト構造

### 階層構造
```
talent-tuner/
├── my-vue-app/                    # Vue.jsアプリケーション
│   ├── src/                       # ソースコード
│   │   ├── components/            # 再利用可能コンポーネント
│   │   ├── views/                 # ページコンポーネント（25ページ）
│   │   ├── router/                # ルーティング設定
│   │   ├── utils/                 # ユーティリティ関数
│   │   ├── i18n/                  # 多言語対応
│   │   ├── composables/           # Composition APIヘルパー
│   │   └── assets/                # 静的アセット
│   ├── public/                    # 静的ファイル
│   │   ├── data/                  # JSON診断データ
│   │   ├── api/                   # PHP APIプロキシ
│   │   └── image/                 # 画像ファイル
│   └── scripts/                   # 開発用スクリプト
```

## 主要コンポーネント

### 1. App.vue
- **役割**: メインアプリケーションシェル
- **機能**: ナビゲーション、フッター、言語切り替えUI
- **レイアウト**: Flexboxレイアウト（min-height: 100vh）

### 2. QuestionNavigator.vue
- **役割**: 診断機能のコアロジック
- **機能**: 
  - 質問表示・回答収集
  - スコアリングアルゴリズム実装
  - 結果表示・職業推奨
  - ローカルストレージ状態管理
  - SNSシェア機能

### 3. CareerChatBot.vue
- **役割**: AI進路相談チャットUI
- **機能**:
  - Claude API統合
  - リアルタイム会話インターフェース
  - 職業カード表示
  - 提案質問機能

### 4. LanguageSwitcher.vue
- **役割**: 多言語切り替えUI
- **機能**:
  - レスポンシブデザイン（デスクトップ/モバイル対応）
  - 言語選択永続化
  - アクセシビリティ対応

### 5. AppFooter.vue
- **役割**: 全ページ共通フッター
- **機能**: 必須ページリンク（プライバシーポリシー等）

## ユーティリティモジュール

### 1. diagnosisLoader.ts
- **役割**: 診断ロジックの中核
- **機能**:
  - JSONデータ読み込み
  - スコアリングアルゴリズム
  - 職業マッチング計算
  - TypeScript型定義

### 2. claudeApiClient.ts
- **役割**: Claude AI API統合
- **機能**:
  - 環境別API呼び出し（開発/本番）
  - エラーハンドリング・フォールバック
  - システムプロンプト管理

### 3. professionDataManager.ts
- **役割**: 職業データベース管理
- **機能**: 職業詳細情報の提供

### 4. seoUtils.ts
- **役割**: SEO最適化
- **機能**: 動的メタタグ設定、構造化データ

## ルーティング設計

### multilingual.ts
- **多言語URL**: `/`, `/en/`, `/zh/`
- **動的ルート**: `/profession/:id`
- **SEO対応**: hreflang、カノニカル設定

### 25ページ構成
- ホーム、診断、チャット、職業詳細
- キャリアガイド（5ページ）
- 診断関連（3ページ）
- 必須ページ（5ページ）
- 職業詳細（8ページ）

## 状態管理

### ローカル状態
- Vue 3 Composition API
- コンポーネント内リアクティブ状態

### 永続化
- localStorage: 診断進捗、言語設定
- sessionStorage: 一時データ

### グローバル状態
- Pinia利用可能（現在未使用）
- 必要に応じて追加可能